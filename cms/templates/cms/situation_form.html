{% extends "cms/base.html" %}
{% block title %}{% if mode == 'edit' %}Edit Situation{% else %}Add Situation{% endif %} | SBLL CMS{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">{% if mode == 'edit' %}Edit situation{% else %}Add situation{% endif %}</h1>
{% if errors %}
<div class="alert alert-error mb-4">
  <ul class="list-disc list-inside">
    {% for error in errors %}<li>{{ error }}</li>{% endfor %}
  </ul>
</div>
{% endif %}
<form method="post" class="space-y-4">
  {% csrf_token %}
  <fieldset class="fieldset">
    <label for="id" class="label">ID</label>
    <input type="text" id="id" name="id" value="{{ data.id }}" class="input input-bordered" {% if mode == 'edit' %}disabled{% endif %} required>
  </fieldset>
  <fieldset class="fieldset">
    <label for="glosses" class="label">Glosses</label>
    <select id="glosses" name="glosses" multiple class="select select-bordered w-full" size="8">
      {% for gloss in glosses %}
        <option value="{{ gloss.pk }}" {% if gloss in data.glosses %}selected{% endif %}>{{ gloss.content }}</option>
      {% endfor %}
    </select>
  </fieldset>
  <div class="flex gap-2">
    <button type="submit" class="btn btn-primary">Save</button>
    <a href="{% url 'situation_list' %}" class="btn btn-ghost">Cancel</a>
  </div>
</form>
{% endblock %}
